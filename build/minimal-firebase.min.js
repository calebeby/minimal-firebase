(function(){var t;t=function(){var t,e,r,n,o,s,u,i,a,c,l,p;for(s=null,u={},l=null,r=0,o=arguments.length;o>r;r++)switch(t=arguments[r],typeof t){case"function":s=t;break;case"object":u=t;break;case"string":l=t}return e=encodeURIComponent,i=function(){var t;t=[];for(n in u)p=u[n],t.push(e(n)+"="+e(p));return t}(),i=i.join("&"),i=i.replace("%20","+"),i.length>0&&(l=l+"?"+i),c=null,a=new XMLHttpRequest,a.open("GET",l,null!=s),a.onreadystatechange=function(){var t;if(4===a.readyState){if(!(a.status>=200&&a.status<400))return s(a.responseText);try{if(c=JSON.parse(a.responseText),s)return s(null,c)}catch(e){return t=e,s(t)}}},a.send(),s?a:c},window.FirebaseSync=function(){function e(t){if(this.url=t.replace(/\/$/,""),!this.root())throw new Error("Invalid firebase url: "+t)}return e.prototype.authAnonymously=function(e){var r,n,o,s;return r=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url),o=null!=r?r[1]:void 0,s="https://auth.firebase.com/v2/"+o+"/auth/anonymous",n={v:"js-2.2.9",transport:"json",supress_codes:!0},t(s,n,e)},e.prototype.authWithCustomToken=function(t){return this.token=t},e.prototype.child=function(t){return t=t.split(/[\/\.]/g),t=t.join("/"),new e(this.url+"/"+t)},e.prototype.createUser=function(e,r,n){var o,s,u,i;return o=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url),u=null!=o?o[1]:void 0,i="https://auth.firebase.com/v2/"+u+"/users",s={email:e,password:r,_method:"POST",v:"js-2.3.1",transport:"json",suppress_status_codes:!0},t(i,s,function(t,e){return t?n(t):e.uid?n(null,e):n(e.error)})},e.prototype.parent=function(){var t,r,n;return n=this.url.replace(this.root(),""),t=n.lastIndexOf("/"),r=n.slice(0,t),""===r?null:new e(""+this.root()+r)},e.prototype.root=function(){var t;return t=/(https:\/\/[a-z0-9-]+\.firebaseio\.com).*/.exec(this.url),null!=t?t[1]:void 0},e.prototype.toString=function(){return this.url},e.prototype.once=function(){var e,r,n,o,s,u;for(s={},o=null,r=0,n=arguments.length;n>r;r++)switch(e=arguments[r],typeof e){case"object":s=e;break;case"function":o=e}return this.token&&(s.auth=this.token),u=this.url+".json",o?t(u,s,o):t(u,s)},e}()}).call(this);