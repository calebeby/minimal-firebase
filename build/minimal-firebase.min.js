(function(){var t;t=function(){var t,e,r,o,n,s,u,i,a,l,c,h;for(s=null,u={},c=null,r=0,n=arguments.length;n>r;r++)switch(t=arguments[r],typeof t){case"function":s=t;break;case"object":u=t;break;case"string":c=t}return e=encodeURIComponent,i=function(){var t;t=[];for(o in u)h=u[o],t.push(e(o)+"="+e(h));return t}(),i=i.join("&"),i=i.replace("%20","+"),i.length>0&&(c=c+"?"+i),l=null,a=new XMLHttpRequest,a.open("GET",c,null!=s),a.onreadystatechange=function(){var t;if(4===a.readyState){if(!(a.status>=200&&a.status<400))return s(a.responseText);try{if(l=JSON.parse(a.responseText),s)return s(null,l)}catch(e){return t=e,s(t)}}},a.send(),s?a:l},window.MinimalFirebase=function(){function e(t){var e;if(this.url=t.replace(/\/$/,""),!this.root())throw new Error("Invalid firebase url: "+t);e=this.getAuth(),(null!=e?e.token:void 0)&&this.authWithCustomToken(e.token)}return e.prototype.authAnonymously=function(e){var r,o,n,s;return n=null!=(o=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url))?o[1]:void 0,s="https://auth.firebase.com/v2/"+n+"/auth/anonymous",r={suppress_status_codes:!0,transport:"json",v:"js-2.2.9"},t(s,r,e)},e.prototype.authWithPassword=function(e,r,o){var n,s,u,i;return u=null!=(s=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url))?s[1]:void 0,i="https://auth.firebase.com/v2/"+u+"/auth/password",n={email:e,password:r,suppress_status_codes:!0,transport:"json",v:"js-2.2.9"},t(i,n,function(t,e){return t?o(t):e.error?o(e.error):o(null,e)})},e.prototype.authWithCustomToken=function(t){return this.token=t},e.prototype.child=function(t){return t=t.split(/[\/\.]/g),t=t.join("/"),new e(this.url+"/"+t)},e.prototype.createUser=function(e,r,o){var n,s,u,i;return u=null!=(s=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url))?s[1]:void 0,i="https://auth.firebase.com/v2/"+u+"/users",n={_method:"POST",email:e,password:r,suppress_status_codes:!0,transport:"json",v:"js-2.3.1"},t(i,n,function(t,e){return t?o(t):e.error?o(e.error):o(null,e)})},e.prototype.getAuth=function(){var t,e;return e=null!=(t=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url))?t[1]:void 0,"undefined"!=typeof localStorage&&null!==localStorage?localStorage["firebase:session::"+e]:void 0},e.prototype.key=function(){var t;return this.url===this.root()?null:(t=this.url.lastIndexOf("/"),this.url.slice(t+1))},e.prototype.parent=function(){var t,r,o;return o=this.url.replace(this.root(),""),t=o.lastIndexOf("/"),r=o.slice(0,t),""===r?null:new e(""+this.root()+r)},e.prototype.root=function(){var t;return t=/(https:\/\/[a-z0-9-]+\.firebaseio\.com).*/.exec(this.url),null!=t?t[1]:void 0},e.prototype.toString=function(){return this.url},e.prototype.once=function(){var e,r,o,n,s,u,i,a,l,c;for(l={},a=null,n=0,u=arguments.length;u>n;n++)switch(e=arguments[n],typeof e){case"object":l=e;break;case"function":a=e}for(o=["orderBy","equalTo","startAt","endAt"],s=0,i=o.length;i>s;s++)r=o[s],"string"==typeof l[r]&&(l[r]='"'+l[r]+'"');return this.token&&(l.auth=this.token),c=this.url+".json",a?t(c,l,a):t(c,l)},e}()}).call(this);