(function(){var t;t=function(){var t,r,e,n,o,s,u,a,i,c,l,p;for(s=null,u={},l=null,e=0,o=arguments.length;o>e;e++)switch(t=arguments[e],typeof t){case"function":s=t;break;case"object":u=t;break;case"string":l=t}return r=encodeURIComponent,a=function(){var t;t=[];for(n in u)p=u[n],t.push(r(n)+"="+r(p));return t}(),a=a.join("&"),a=a.replace("%20","+"),a.length>0&&(l=l+"?"+a),c=null,i=new XMLHttpRequest,i.open("GET",l,null!=s),i.onreadystatechange=function(){var t;if(4===i.readyState){if(!(i.status>=200&&i.status<400))return s(i.responseText);try{if(c=JSON.parse(i.responseText),s)return s(null,c)}catch(r){return t=r,s(t)}}},i.send(),s?i:c},window.FirebaseSync=function(){function r(t){if(this.url=t.replace(/\/$/,""),!this.root())throw new Error("Invalid firebase url: "+t)}return r.prototype.authAnonymously=function(r){var e,n,o,s;return e=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url),o=null!=e?e[1]:void 0,s="https://auth.firebase.com/v2/"+o+"/auth/anonymous",n={suppress_status_codes:!0,transport:"json",v:"js-2.2.9"},t(s,n,r)},r.prototype.authWithPassword=function(r,e,n){var o,s,u,a;return o=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url),u=null!=o?o[1]:void 0,a="https://auth.firebase.com/v2/"+u+"/auth/password",s={email:r,password:e,suppress_status_codes:!0,transport:"json",v:"js-2.2.9"},t(a,s,function(t,r){return t?n(t):r.error?n(r.error):n(null,r)})},r.prototype.authWithCustomToken=function(t){return this.token=t},r.prototype.child=function(t){return t=t.split(/[\/\.]/g),t=t.join("/"),new r(this.url+"/"+t)},r.prototype.createUser=function(r,e,n){var o,s,u,a;return o=/https:\/\/([a-z0-9-]+)\.firebaseio\.com.*/.exec(this.url),u=null!=o?o[1]:void 0,a="https://auth.firebase.com/v2/"+u+"/users",s={_method:"POST",email:r,password:e,suppress_status_codes:!0,transport:"json",v:"js-2.3.1"},t(a,s,function(t,r){return t?n(t):r.error?n(r.error):n(null,r)})},r.prototype.parent=function(){var t,e,n;return n=this.url.replace(this.root(),""),t=n.lastIndexOf("/"),e=n.slice(0,t),""===e?null:new r(""+this.root()+e)},r.prototype.root=function(){var t;return t=/(https:\/\/[a-z0-9-]+\.firebaseio\.com).*/.exec(this.url),null!=t?t[1]:void 0},r.prototype.toString=function(){return this.url},r.prototype.once=function(){var r,e,n,o,s,u;for(s={},o=null,e=0,n=arguments.length;n>e;e++)switch(r=arguments[e],typeof r){case"object":s=r;break;case"function":o=r}return this.token&&(s.auth=this.token),u=this.url+".json",o?t(u,s,o):t(u,s)},r}()}).call(this);